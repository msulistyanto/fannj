#summary How to get FannJ working in Microsoft Windows.
#labels Featured

FANN (http://leenissen.dk/fann) has pre-built Windows DLLs for FANN version 2.0.0.
However, FannJ was built and tested on 2.1.0beta.  If you want 2.1.0beta DLLs, you will have to build them.  See FANN documentation for help with this.  FannJ _should_ run on FANN version 2.0.0.  If you have problems please file an issue.

= Instructions =
== Step 1 : Install FANN Library ==

  * Visit the Downloads section of the FANN website and download fann-win-dll-2.0.0.zip.  
  * Unzip the file and locate _fann-2.0.0/Microsoft/WindowsDLL/bin/fannfloat.dll_.  
  * Note: This file is also available as a download from the FannJ project site.  
  * Copy _fannfloat.dll_ to _System32_
    OR

       add the following line before you try to use FANN:

       System.setProperty("jna.library.path", [fannfloat.dll dir path]);

  * Alternatively, build and install the 2.1.0beta DLLs from the FANN source.  Build the Windows DLL project. http://www.codeproject.com/KB/application/prjconverter.aspx will convert the vc++ 7 project to a vc++ 6 if needed.

== Step 2 : Install FANN GUI Tools ==

I have had good luck with `FannTool` http://code.google.com/p/fanntool

Download and install using their instructions.

== Step 3 : Create Train and Test your ANN ==

Use the `FannTool` to create, train, and test your ANN.  The training and test file formats are defined in the FANN documentation.  Save the ANN when you are happy with it.

== Step 4 : Configure Java Project ==

Using the latest version of the FannJ jar in your Java project, open the ANN file saved using `FannTool` and run it. 


----


= Solutions To Problems =

==No Java Native ==
"Exception in thread "main" java.lang.NoClassDefFoundError: com/sun/jna/Platform"

Solution: Download the JNA and add the jar to your project.

See: http://stackoverflow.com/questions/1773720/how-do-i-compile-and-run-this-java-native-access-jna-example


==Can' find the FANN library==
Exception in thread "main" java.lang.UnsatisfiedLinkError: Unable to load library 'fannfloat': The specified module could not be found.

Solution: Add the following code after you set the JNA library path, run it:

{{{
System.out.println( System.getProperty("jna.library.path") ); //maybe the path is malformed
File file = new File(System.getProperty("jna.library.path") + "fannfloat.dll");
System.out.println("Is the dll file there:" + file.exists());
System.load(file.getAbsolutePath());
}}}
You can fix the problems if something is wrong with the first two messages easily.


See: http://stackoverflow.com/questions/4805382/problem-in-accessing-dll-file-from-a-java-program-through-jna 


==UnsatisfiedLinkError==
Exception in thread "main" java.lang.UnsatisfiedLinkError: [ddl path]: Can't load IA 32-bit .dll on a AMD 64-bit platform
then you are probably running a 64bit Java SDK while fannfloat.dll is 32bit. 

Solution: Install additional 32bit Java SDK and choose it in the build path for the project.

See: http://stackoverflow.com/questions/1403788/java-lang-unsatisfiedlinkerror-no-dll-in-java-library-path


----

Thanks to:
http://michalturek.blogspot.hk/2012/04/installing-fann-on-java-project-and.html

